<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ALPRO PODCAST - Elegant</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: 'Montserrat', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #fefefe;
      color: #222;
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    header {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1.25rem 3rem;
      background: linear-gradient(135deg, #0a2647 0%, #144272 100%);
      color: #eaeaea;
      box-shadow: 0 3px 8px rgba(0,0,0,0.15);
    }

    header img {
      height: 48px;
      filter: drop-shadow(0 0 3px rgba(255,255,255,0.2));
    }

    header h1 {
      margin: 0;
      font-size: 1.75rem;
      font-weight: 900;
      letter-spacing: 0.12em;
      text-shadow: 0 1px 4px rgba(0,0,0,0.5);
      user-select: none;
      white-space: nowrap;
    }

    .container {
      display: flex;
      max-width: 1200px;
      margin: 2.5rem auto 4rem;
      padding: 0 2rem;
      gap: 2.5rem;
    }

    .left, .right {
      background: white;
      border-radius: 14px;
      box-shadow: 0 8px 24px rgba(20,40,80,0.1);
      padding: 1.8rem 2rem;
      display: flex;
      flex-direction: column;
    }

    .left {
      flex: 0 0 400px;
      max-height: 820px;
    }

    .right {
      flex: 1 1 auto;
      border-radius: 14px;
      overflow: hidden;
      box-shadow: 0 8px 36px rgba(20,40,80,0.15);
    }

    .right iframe {
      width: 100%;
      height: 100%;
      border: none;
    }

    .sop-title {
      font-size: 1.55rem;
      font-weight: 900;
      margin-bottom: 1rem;
      color: #0a2647;
      user-select: none;
      text-align: center;
      text-shadow: 0 1px 2px rgba(160,180,230,0.3);
    }

    .audio-player {
      width: 100%;
      margin-bottom: 1.8rem;
      outline-offset: 4px;
      outline-color: #144272;
      outline-style: solid;
      outline-width: 2px;
      border-radius: 12px;
      box-shadow: 0 5px 12px rgba(20,40,80,0.1);
      background: #f9fafc;
    }

    .downloads {
      display: none;
      gap: 12px;
      margin-bottom: 1.6rem;
      justify-content: center;
    }

    .downloads button {
      flex: 1;
      padding: 0.75rem 1rem;
      background: #144272;
      color: #eaeaea;
      border: none;
      border-radius: 10px;
      font-weight: 700;
      font-size: 1rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(20, 40, 80, 0.25);
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
      user-select: none;
    }

    .downloads button:hover,
    .downloads button:focus {
      background: #0a2647;
      box-shadow: 0 6px 20px rgba(10, 38, 71, 0.7);
      outline: none;
    }

    .new-release {
      background: #e8f2ff;
      padding: 1rem 1.25rem;
      border-left: 6px solid #0a2647;
      margin-bottom: 2rem;
      border-radius: 10px;
    }

    .new-release h3 {
      margin: 0 0 0.6rem 0;
      font-weight: 700;
      font-size: 1.25rem;
      color: #064273;
      user-select: none;
    }

    .new-release-item {
      margin-bottom: 0.35rem;
      cursor: pointer;
      color: #0a2647;
      font-weight: 600;
      user-select: none;
      transition: color 0.25s ease;
    }

    .new-release-item:hover,
    .new-release-item:focus {
      color: #062b4f;
      text-decoration: underline;
      outline: none;
    }

    .badge-new {
      background: #d32f2f;
      color: white;
      font-size: 0.75rem;
      padding: 2px 7px;
      border-radius: 12px;
      margin-left: 8px;
      font-weight: 700;
      vertical-align: middle;
      user-select: none;
    }

    .search-sort {
      display: flex;
      gap: 1rem;
      margin-bottom: 1.8rem;
    }

    .search-sort input,
    .search-sort select {
      flex: 1;
      padding: 0.78rem 1.1rem;
      border-radius: 10px;
      border: 2px solid #8ba6c1;
      font-size: 1rem;
      font-weight: 600;
      color: #264169;
      background: #eaf1fc;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
      user-select: text;
    }

    .search-sort input::placeholder {
      color: #607799;
      font-style: italic;
    }

    .search-sort input:focus,
    .search-sort select:focus {
      border-color: #0a2647;
      box-shadow: 0 0 8px 2px rgba(10,38,71,0.4);
      outline: none;
      background: #fff;
      color: #0a2647;
    }

    .playlist {
      list-style: none;
      padding: 0;
      margin: 0;
      max-height: 350px;
      overflow-y: auto;
      border-radius: 12px;
      box-shadow: inset 0 0 20px rgba(10,38,71,0.1);
      background: #f9fafc;
      user-select: none;
    }

    .playlist li {
      padding: 0.8rem 1.25rem;
      border-bottom: 1px solid #cbd2e1;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-weight: 600;
      color: #0a2647;
      transition: background-color 0.22s ease;
    }

    .playlist li:last-child {
      border-bottom: none;
    }

    .playlist li:hover,
    .playlist li:focus {
      background-color: #dbe7ff;
      outline: none;
      color: #062b4f;
    }

    /* Scrollbar Styling */
    .playlist::-webkit-scrollbar {
      width: 8px;
    }

    .playlist::-webkit-scrollbar-track {
      background: #f0f4ff;
      border-radius: 12px;
    }

    .playlist::-webkit-scrollbar-thumb {
      background-color: #0a2647;
      border-radius: 12px;
      border: 2px solid #f0f4ff;
    }

    /* Responsive styling */
    @media (max-width: 900px) {
      .container {
        flex-direction: column;
        padding: 1rem 1rem 2rem;
      }

      .left {
        max-width: 100%;
        max-height: none;
      }

      .right {
        margin-top: 2rem;
        height: 450px;
      }

      .right iframe {
        height: 100% !important;
      }
    }

    @media (max-width: 480px) {
      header {
        flex-direction: column;
        align-items: flex-start;
        padding: 1rem 1rem;
      }
      header img {
        height: 36px;
      }
      header h1 {
        font-size: 1.25rem;
        letter-spacing: 0.1em;
      }
    }
  </style>
</head>
<body>
  <header>
    <img src="LOGO-01.png" alt="Logo Alpro" />
    <h1>ALPRO PODCAST</h1>
  </header>

  <div class="container">
    <div class="left">
      <div class="sop-title" id="sopTitle">Pilih SOP</div>
      <audio id="audioPlayer" class="audio-player" controls></audio>

      <div class="downloads" id="downloadGroup">
        <button id="downloadPDF">Download PDF</button>
        <button id="downloadAudio">Download Audio</button>
      </div>

      <div class="new-release">
        <h3>ðŸ”” Baru Dirilis</h3>
        <div id="newReleaseList"></div>
      </div>

      <div class="search-sort">
        <input type="text" id="searchInput" placeholder="Cari SOP..." />
        <select id="sortSelect" title="Sortir berdasarkan tanggal">
          <option value="desc">Terbaru</option>
          <option value="asc">Terlama</option>
        </select>
      </div>

      <ul class="playlist" id="playlist" role="listbox" aria-label="Daftar Podcast"></ul>
    </div>

    <div class="right">
      <iframe id="pdfViewer" allow="autoplay"></iframe>
    </div>
  </div>

  <script>
    const data = [
      {
        title: "SOP ABCCE - 07/05/2025",
        audio: "https://cdn.jsdelivr.net/gh/ginting719/Audio/audio/ABCCE.mp3",
        driveId: "1WHcG5-UI0Bn17SfFb4egkfU-fCoQuEq2",
        releaseDate: "2025-05-07"
      },
      {
        title: "IK KHUSUS PEMBELIAN KARYAWAN ALPRO - 08/05/2025",
        audio: "https://cdn.jsdelivr.net/gh/ginting719/Audio/audio/IK_Pembelian_Karyawan.mp3",
        driveId: "1JN9vG6orN9RqPFs2a8PECH71eoxA1NoG",
        releaseDate: "2025-05-08"
      },
      {
        title: "SOP ADMINISTRASI ABSENSI - 09/05/2025",
        audio: "https://cdn.jsdelivr.net/gh/ginting719/Audio/audio/PODCAST-09052025-SOP-ADMINISTRASI-KARYAWAN.mp3",
        driveId: "1IcGwy6ZxgLWHwfjYGsfzxR3uCsXQr8yp",
        releaseDate: "2025-05-09"
      },
      {
        title: "MEMO INTERNAL PENGECEKAN DO DAN FISIK BARANG DI TOKO - 09/05/2025",
        audio: "https://cdn.jsdelivr.net/gh/ginting719/Audio/audio/PODCAST-09052025-MEMO-INTERNAL-PENGECEKAN-DO-DAN-FISIK-BARANG-DI-TOKO.mp3",
        driveId: "1SUSXft9NOFWAKa5InhK13hAoCahh6IlW",
        releaseDate: "2025-05-09"
      },
      {
        title: "SOP PEMETAAN SUHU, KALIBRASI TERMOHIGROMETER, DAN PEMANTAUAN SUHU - 16/05/2025",
        audio: "https://cdn.jsdelivr.net/gh/ginting719/Audio/audio/PODCAST-16052025-SOP-SUHU_-KALIBRASI_-DAN-PEMANTAUAN-DI-APOTEK.mp3",
        driveId: "1YxTdSBYhtxEK3Q4BxYiCu3S-e80GMVFH",
        releaseDate: "2025-05-16"
      },
      {
        title: "BULLETIN WEEKLY UPDATE - 14/05/2025",
        audio: "https://cdn.jsdelivr.net/gh/ginting719/Audio/audio/Bulletin.mp3",
        driveId: "11fx-PvRrqp7AAFcqwqs_nQGyrsAlAQgp",
        releaseDate: "2025-05-14"
      },
      {
        title: "ALPRO MEMBER DAY CAMPAIGN - 20/05/2025",
        audio: "https://cdn.jsdelivr.net/gh/ginting719/Audio/audio/Alpro-Member-Day-Campaign-2025.mp3",
        driveId: "149O8JxWfycoDltZq9pOocldkL0xNGP8F",
        releaseDate: "2025-05-20"
      },
    ];

    const sopTitle = document.getElementById("sopTitle");
    const audioPlayer = document.getElementById("audioPlayer");
    const pdfViewer = document.getElementById("pdfViewer");
    const downloadPDF = document.getElementById("downloadPDF");
    const downloadAudio = document.getElementById("downloadAudio");
    const downloadGroup = document.getElementById("downloadGroup");

    const playlistEl = document.getElementById("playlist");
    const searchInput = document.getElementById("searchInput");
    const sortSelect = document.getElementById("sortSelect");

    function isNew(releaseDate) {
      const today = new Date();
      const date = new Date(releaseDate);
      const diff = (today - date) / (1000 * 60 * 60 * 24);
      return diff <= 7;
    }

    function renderList(list) {
      playlistEl.innerHTML = "";
      list.forEach((item) => {
        const li = document.createElement("li");
        li.innerHTML = `
          <span>${item.title}${isNew(item.releaseDate) ? ' <span class="badge-new">New</span>' : ''}</span>
        `;
        li.onclick = () => {
          sopTitle.textContent = item.title;
          audioPlayer.src = item.audio;
          pdfViewer.src = \`https://drive.google.com/file/d/\${item.driveId}/preview\`;
          downloadGroup.style.display = "flex";
          downloadPDF.onclick = () => {
            window.open(\`https://drive.google.com/uc?id=\${item.driveId}&export=download\`, "_blank");
          };
          downloadAudio.onclick = () => {
            window.open(item.audio, "_blank");
          };
          // Scroll playlist to highlight selected item
          [...playlistEl.children].forEach(child => child.classList.remove('selected'));
          li.classList.add('selected');
        };
        playlistEl.appendChild(li);
      });
    }

    function renderNewReleases() {
      const container = document.getElementById("newReleaseList");
      const latest = data
        .filter(d => isNew(d.releaseDate))
        .sort((a, b) => new Date(b.releaseDate) - new Date(a.releaseDate));
      container.innerHTML = "";
      latest.forEach(item => {
        const el = document.createElement("div");
        el.className = "new-release-item";
        el.textContent = `ðŸ“Œ ${item.title} (${item.releaseDate})`;
        el.onclick = () => {
          sopTitle.textContent = item.title;
          audioPlayer.src = item.audio;
          pdfViewer.src = `https://drive.google.com/file/d/${item.driveId}/preview`;
          downloadGroup.style.display = "flex";
          downloadPDF.onclick = () => {
            window.open(`https://drive.google.com/uc?id=${item.driveId}&export=download`, "_blank");
          };
          downloadAudio.onclick = () => {
            window.open(item.audio, "_blank");
          };
          // Scroll playlist to highlight selected item
          [...playlistEl.children].forEach(child => child.classList.remove('selected'));
          const idx = data.findIndex(d => d.title === item.title);
          if(idx >= 0 && playlistEl.children[idx]) playlistEl.children[idx].classList.add('selected');
          playlistEl.children[idx]?.scrollIntoView({behavior: "smooth", block: "center"});
        };
        container.appendChild(el);
      });
    }

    function filterList() {
      let filtered = data;
      const keyword = searchInput.value.toLowerCase();
      if (keyword) {
        filtered = filtered.filter(d => d.title.toLowerCase().includes(keyword));
      }

      const sortOrder = sortSelect.value;
      filtered = filtered.sort((a, b) => {
        return sortOrder === "asc"
          ? new Date(a.releaseDate) - new Date(b.releaseDate)
          : new Date(b.releaseDate) - new Date(a.releaseDate);
      });

      renderList(filtered);
    }

    searchInput.addEventListener("input", filterList);
    sortSelect.addEventListener("change", filterList);

    // Initialize displays
    const sortedData = [...data].sort((a, b) => new Date(b.releaseDate) - new Date(a.releaseDate));
    renderList(sortedData);
    renderNewReleases();
  </script>
</body>
</html>

